(this["webpackJsonpschool-schedule-clock"]=this["webpackJsonpschool-schedule-clock"]||[]).push([[0],{104:function(e,t,a){e.exports=a(113)},113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),u=a(83),i=a(173),o=a(15),m=a(66),s=a(155),d=a(152),h=a(154),E=a(178),g=a(149),f=Object(g.a)({largeTimer:{textAlign:"center",padding:20},descText:{marginTop:10}});function b(e){var t,a=f();if(!e.schedule)return null;for(var n=0;n<e.schedule.length;n++){var l=e.schedule[n];if(e.currentTime>=l.start&&e.currentTime<l.end){t=l;break}}if(t){var c=t.end-t.start,u=t.end-e.currentTime,i=100-u/c*100;return r.a.createElement(d.a,{maxWidth:"md"},r.a.createElement(h.a,{className:a.largeTimer,elevation:2},r.a.createElement(m.a,{variant:"h1",component:"h2"},("00"+Math.floor(u/60)).slice(-2)+":"+("00"+u%60).slice(-2)),r.a.createElement(s.a,{variant:"determinate",value:i,mb:1}),r.a.createElement(E.a,{className:a.descText,label:r.a.createElement(m.a,null,t.name)})))}return r.a.createElement(d.a,{maxWidth:"md"},r.a.createElement(h.a,{className:a.largeTimer,elevation:2},r.a.createElement(E.a,{className:a.descText,label:r.a.createElement(m.a,null,"School is not in session")})))}var v=a(161),p=a(163),O=a(157),j=a(160),S=a(162),T=a(156),k=a(158),y=a(179),C=Object(g.a)({scheduleContainer:{padding:10,marginTop:15}});function x(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(!1),i=Object(o.a)(u,2),m=i[0],s=i[1],E=C();if(!e.schedule)return null;var g=e.schedule.filter((function(e){return!!l||!e.isBreak})).map((function(t){return r.a.createElement(T.a,{key:t.id,selected:e.currentTime>=t.start&&e.currentTime<t.end},r.a.createElement(O.a,null,t.name),r.a.createElement(O.a,{align:"right"},N(t.end-t.start)),r.a.createElement(O.a,{align:"right"},m?N(t.start):M(t.start)),r.a.createElement(O.a,{align:"right"},m?N(t.end):M(t.end)))}));return r.a.createElement(d.a,{maxWidth:"md"},r.a.createElement(h.a,{className:E.scheduleContainer,elevation:1},r.a.createElement(k.a,{control:r.a.createElement(y.a,{checked:l,onChange:function(){return c(!l)}}),label:"Show breaks"}),r.a.createElement(k.a,{control:r.a.createElement(y.a,{checked:m,onChange:function(){return s(!m)}}),label:"24 Hour Format"}),r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement(S.a,null,r.a.createElement(T.a,null,r.a.createElement(O.a,null,"Name"),r.a.createElement(O.a,{align:"right"},"Duration"),r.a.createElement(O.a,{align:"right"},"Start"),r.a.createElement(O.a,{align:"right"},"End"))),r.a.createElement(p.a,null,g)))))}function M(e){var t=Math.floor(e/3600);e%=3600;var a=!0;return t>12&&(a=!1,t-=12),t+":"+("00"+Math.floor(e/60)).slice(-2)+" "+(a?"AM":"PM")}function N(e){var t=Math.floor(e/3600);return e%=3600,t+":"+("00"+Math.floor(e/60)).slice(-2)}var w=a(84),D=a(171),B=a(177),H=a(168),J=a(172),W=a(167),P=a(170),A=a(13),I=a(174),U=a(166),F=a(182),q=a(175),z=a(180),G=a(114),K=a(82);function L(e){var t=new Date,a=Math.floor(e/3600);return e-=3600*a,t.setHours(a,Math.floor(e/60),e%60,0),t}function Q(e){return e?e.getSeconds()+60*e.getMinutes()+3600*e.getHours():0}function R(e){var t=Object(n.useState)("Period "+(e.index+1)),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(e.start?L(e.start):new Date),i=Object(o.a)(u,2),m=i[0],s=i[1],d=Object(n.useState)(e.start?L(e.start):new Date),h=Object(o.a)(d,2),E=h[0],g=h[1],f=Object(n.useState)(),b=Object(o.a)(f,2),v=b[0],p=b[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),S=j[0],T=j[1];return Object(n.useEffect)((function(){e.doUpdate(function(){var t=Q(m),a=Q(E);return{id:e.index,name:l,start:t,end:a,isBreak:S}}())})),r.a.createElement(G.a,null,r.a.createElement(z.a,{label:"Period Name",onChange:function(e){c(e.target.value)},value:l}),r.a.createElement(A.a,{utils:K.a},r.a.createElement(I.a,{label:"Start Time",onChange:function(e){s(e)},value:m}),r.a.createElement(I.a,{error:v,label:"End Time",onChange:function(e){Q(e)>=Q(m)?(p(!1),g(e)):p(!0)},value:E})),r.a.createElement(U.a,{style:{minWidth:70}},r.a.createElement(F.a,null,"Type"),r.a.createElement(q.a,{value:S,onChange:function(e){T(e.target.value)}},r.a.createElement(P.a,{value:!1},"Class"),r.a.createElement(P.a,{value:!0},"Break"))))}var V=a(159),X=a(80),Y=a.n(X),Z=a(81),$=a.n(Z),_=a(169);function ee(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)({}),i=Object(o.a)(u,2),m=i[0],s=i[1],d=Object(n.useState)(!0),h=Object(o.a)(d,2),E=h[0],g=h[1];return r.a.createElement(B.a,{open:E,"aria-labelledby":"form-dialog-title"},r.a.createElement(D.a,{id:"form-dialog-title"},"Setup Schedule"),r.a.createElement(H.a,null,r.a.createElement(J.a,null,"To begin using this app, first enter the starting and ending times for each period of your school schedule."),r.a.createElement(W.a,null,l),r.a.createElement(V.a,{color:"primary",component:"span",onClick:function(){var e=l.length;c([].concat(Object(w.a)(l),[r.a.createElement(R,{key:e,index:l.length,doUpdate:function(e){s((function(t){return t[e.id]=e,t}))},start:Object.values(m).slice(-1)[0]?Object.values(m).slice(-1)[0].end:null})]))}},r.a.createElement(Y.a,null)),r.a.createElement(V.a,{color:"primary",component:"span",onClick:function(){c(l.slice(0,l.length-1))}},r.a.createElement($.a,null)),r.a.createElement(_.a,{color:"primary",onClick:function(){e.onScheduleSet(Object.values(m)),g(!1)}},"Save")))}function te(){var e=Object(n.useState)(ae()),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(void 0),u=Object(o.a)(c,2),i=u[0],m=u[1];if(setInterval((function(){l(ae())}),1e3),localStorage.schedule){var s=JSON.parse(localStorage.schedule);return r.a.createElement(d.a,{style:{paddingTop:20}},r.a.createElement(b,{currentTime:a,schedule:s}),r.a.createElement(x,{currentTime:a,schedule:s}))}return r.a.createElement(d.a,{style:{paddingTop:20}},r.a.createElement(ee,{onScheduleSet:function(e){localStorage.schedule=JSON.stringify(e),m(e)}}),r.a.createElement(b,{currentTime:a,schedule:i}),r.a.createElement(x,{currentTime:a,schedule:i}))}function ae(){var e=new Date,t=e.getSeconds();return t+=60*e.getMinutes(),t+=3600*e.getHours()}var ne=document.getElementById("root"),re=Object(u.a)({palette:{type:"light"}});c.a.render(r.a.createElement(i.a,{theme:re},r.a.createElement(te,null)),ne)}},[[104,1,2]]]);
//# sourceMappingURL=main.e4c56a2c.chunk.js.map