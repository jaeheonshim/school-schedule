(this["webpackJsonpschool-schedule-clock"]=this["webpackJsonpschool-schedule-clock"]||[]).push([[0],{109:function(e,t,a){e.exports=a(118)},118:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),c=a.n(r),o=a(85),u=a(175),i=a(12),m=a(69),s=a(157),d=a(154),h=a(156),E=a(181),f=a(152),g=Object(f.a)({largeTimer:{textAlign:"center",padding:20},descText:{marginTop:10}});function b(e){var t,a=g();if(!e.schedule)return null;for(var n=0;n<e.schedule.length;n++){var r=e.schedule[n];if(e.currentTime>=r.start&&e.currentTime<r.end){t=r;break}}if(t){var c=t.end-t.start,o=t.end-e.currentTime,u=100-o/c*100;return l.a.createElement(d.a,{maxWidth:"md"},l.a.createElement(h.a,{className:a.largeTimer,elevation:2},l.a.createElement(m.a,{variant:"h1",component:"h2"},("00"+Math.floor(o/60)).slice(-2)+":"+("00"+o%60).slice(-2)),l.a.createElement(s.a,{variant:"determinate",value:u,mb:1}),l.a.createElement(E.a,{className:a.descText,label:l.a.createElement(m.a,null,t.name)})))}return l.a.createElement(d.a,{maxWidth:"md"},l.a.createElement(h.a,{className:a.largeTimer,elevation:2},l.a.createElement(E.a,{className:a.descText,label:l.a.createElement(m.a,null,"School is not in session")})))}var p=a(163),v=a(165),O=a(159),S=a(162),j=a(164),T=a(158),y=a(160),k=a(182),C=Object(f.a)({scheduleContainer:{padding:10,marginTop:15}});function x(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),m=u[0],s=u[1],E=C();if(!e.schedule)return null;var f=e.schedule.filter((function(e){return!!r||!e.isBreak})).map((function(t){return l.a.createElement(T.a,{key:t.id,selected:e.currentTime>=t.start&&e.currentTime<t.end},l.a.createElement(O.a,null,t.name),l.a.createElement(O.a,{align:"right"},N(t.end-t.start)),l.a.createElement(O.a,{align:"right"},m?N(t.start):M(t.start)),l.a.createElement(O.a,{align:"right"},m?N(t.end):M(t.end)))}));return l.a.createElement(d.a,{maxWidth:"md"},l.a.createElement(h.a,{className:E.scheduleContainer,elevation:1},l.a.createElement(y.a,{control:l.a.createElement(k.a,{checked:r,onChange:function(){return c(!r)}}),label:"Show breaks"}),l.a.createElement(y.a,{control:l.a.createElement(k.a,{checked:m,onChange:function(){return s(!m)}}),label:"24 Hour Format"}),l.a.createElement(S.a,null,l.a.createElement(p.a,null,l.a.createElement(j.a,null,l.a.createElement(T.a,null,l.a.createElement(O.a,null,"Name"),l.a.createElement(O.a,{align:"right"},"Duration"),l.a.createElement(O.a,{align:"right"},"Start"),l.a.createElement(O.a,{align:"right"},"End"))),l.a.createElement(v.a,null,f)))))}function M(e){var t=Math.floor(e/3600);e%=3600;var a=!0;return t>12&&(a=!1,t-=12),t+":"+("00"+Math.floor(e/60)).slice(-2)+" "+(a?"AM":"PM")}function N(e){var t=Math.floor(e/3600);return e%=3600,t+":"+("00"+Math.floor(e/60)).slice(-2)}var w=a(171),W=a(86),D=a(173),J=a(180),B=a(170),H=a(174),I=a(169),P=a(172),A=a(14),U=a(176),F=a(168),q=a(185),z=a(178),G=a(183),K=a(120),L=a(84);function Q(e){var t=new Date,a=Math.floor(e/3600);return e-=3600*a,t.setHours(a,Math.floor(e/60),e%60,0),t}function R(e){return e?e.getSeconds()+60*e.getMinutes()+3600*e.getHours():0}function V(e){var t=Object(n.useState)("Period "+(e.index+1)),a=Object(i.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(e.start?Q(e.start):new Date),u=Object(i.a)(o,2),m=u[0],s=u[1],d=Object(n.useState)(e.start?Q(e.start):new Date),h=Object(i.a)(d,2),E=h[0],f=h[1],g=Object(n.useState)(),b=Object(i.a)(g,2),p=b[0],v=b[1],O=Object(n.useState)(!1),S=Object(i.a)(O,2),j=S[0],T=S[1];return Object(n.useEffect)((function(){e.doUpdate(function(){var t=R(m),a=R(E);return{id:e.index,name:r,start:t,end:a,isBreak:j}}())})),l.a.createElement(K.a,null,l.a.createElement(G.a,{label:"Period Name",onChange:function(e){c(e.target.value)},value:r}),l.a.createElement(A.a,{utils:L.a},l.a.createElement(U.a,{label:"Start Time",onChange:function(e){s(e)},value:m}),l.a.createElement(U.a,{error:p,label:"End Time",onChange:function(e){R(e)>=R(m)?(v(!1),f(e)):v(!0)},value:E})),l.a.createElement(F.a,{style:{minWidth:70}},l.a.createElement(q.a,null,"Type"),l.a.createElement(z.a,{value:j,onChange:function(e){T(e.target.value)}},l.a.createElement(P.a,{value:!1},"Class"),l.a.createElement(P.a,{value:!0},"Break"))))}var X=a(161),Y=a(177),Z=a(82),$=a.n(Z),_=a(83),ee=a.n(_);function te(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)({}),u=Object(i.a)(o,2),m=u[0],s=u[1],d=Object(n.useState)(!0),h=Object(i.a)(d,2),E=h[0],f=h[1],g=Object(n.useState)("none"),b=Object(i.a)(g,2),p=b[0],v=b[1],O=Object(n.useState)(),S=Object(i.a)(O,2),j=S[0],T=S[1];return l.a.createElement(J.a,{open:E,"aria-labelledby":"form-dialog-title"},l.a.createElement(D.a,{id:"form-dialog-title"},"Setup Schedule"),l.a.createElement(B.a,null,l.a.createElement(H.a,null,"To begin using this app, first enter the starting and ending times for each period of your school schedule."),l.a.createElement(I.a,null,r),l.a.createElement(X.a,{color:"primary",component:"span",onClick:function(){var e=r.length;c([].concat(Object(W.a)(r),[l.a.createElement(V,{key:e,index:r.length,doUpdate:function(e){s((function(t){return t[e.id]=e,t}))},start:Object.values(m).slice(-1)[0]?Object.values(m).slice(-1)[0].end:null})]))}},l.a.createElement($.a,null)),l.a.createElement(X.a,{color:"primary",component:"span",onClick:function(){c(r.slice(0,r.length-1))}},l.a.createElement(ee.a,null)),l.a.createElement(w.a,{color:"primary",onClick:function(){e.onScheduleSet(Object.values(m)),f(!1)}},"Save"),l.a.createElement(w.a,{color:"primary",onClick:function(){v("block")}},"Import Schedule"),l.a.createElement(Y.a,{display:p},l.a.createElement(G.a,{label:"Paste schedule export here",multiline:!0,variant:"outlined",fullWidth:!0,onChange:function(e){T(e.target.value)}}),l.a.createElement(w.a,{color:"primary",variant:"contained",style:{marginTop:10,float:"right"},onClick:function(){localStorage.schedule=atob(j)}},"Import"))))}function ae(e){return l.a.createElement(J.a,{open:e.dialogOpen,onClose:e.onClose},l.a.createElement(D.a,null,"Setup Schedule"),l.a.createElement(B.a,null,l.a.createElement(H.a,null,"Others can copy your schedule with the below text:",l.a.createElement(G.a,{multiline:!0,fullWidth:!0,value:btoa(e.schedule)}))))}function ne(){var e=Object(n.useState)(le()),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(void 0),o=Object(i.a)(c,2),u=o[0],m=o[1],s=Object(n.useState)(!1),h=Object(i.a)(s,2),E=h[0],f=h[1];if(setInterval((function(){r(le())}),1e3),localStorage.schedule){var g=JSON.parse(localStorage.schedule);return l.a.createElement(d.a,{style:{paddingTop:20}},l.a.createElement(ae,{schedule:JSON.stringify(g),dialogOpen:E,onClose:function(){f(!1)}}),l.a.createElement(b,{currentTime:a,schedule:g}),l.a.createElement(x,{currentTime:a,schedule:g}),l.a.createElement(w.a,{variant:"contained",color:"primary",style:{position:"absolute",bottom:25,right:25},onClick:function(){f(!0)}},"Export Schedule"))}return l.a.createElement(d.a,{style:{paddingTop:20}},l.a.createElement(te,{onScheduleSet:function(e){localStorage.schedule=JSON.stringify(e),m(e)}}),l.a.createElement(b,{currentTime:a,schedule:u}),l.a.createElement(x,{currentTime:a,schedule:u}))}function le(){var e=new Date,t=e.getSeconds();return t+=60*e.getMinutes(),t+=3600*e.getHours()}var re=document.getElementById("root"),ce=Object(o.a)({palette:{type:"light"}});c.a.render(l.a.createElement(u.a,{theme:ce},l.a.createElement(ne,null)),re)}},[[109,1,2]]]);
//# sourceMappingURL=main.c50afc3e.chunk.js.map